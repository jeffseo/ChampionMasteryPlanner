<!DOCTYPE html>
<html lang="en">
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>ChampionMasteryPlanner</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

    <!-- Custom styles for the cover template -->
    <link href="css/cover.css" rel="stylesheet">

</head>

<body>

    <div class="site-wrapper">

      <div class="site-wrapper-inner">

        <div class="cover-container">

          <div class="masthead clearfix">
            <div class="inner">
              <h3 class="masthead-brand">Teemo</h3>
              <nav>
                <ul class="nav masthead-nav">
                  <li class="active"><a href="index.html">Home</a></li>
                  <li><a href="#">Teemo</a></li>
                  <li><a href="#">Teemo</a></li>
                </ul>
              </nav>
            </div>
          </div>

          <div class="inner cover">
          <div class="font-enhancement">
            <h1 class="cover-heading">Champion Mastery Planner</h1>
            <p class="lead">Enter your summoner name for champion mastery info</p>

            <!-- Search bar -->
            <div class="col-md-6 col-md-offset-3">
                <form action="javascript:getSummonerId()" method="get" id="searchForm">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="summoner name" name="summonerName" required value="">
                        <span class="input-group-btn">
                            <input class="btn btn-default" type="submit" value="Submit">
                        </span>
                    </div>
                </form>
            </div>
            </div>
          </div>

          <div class="mastfoot">
            <div class="inner">
              <p>Submission for Riot API Contest, by <b>Albert & Seo </b></p>
            </div>
          </div>

        </div>

      </div>

    </div>


    <!-- javascript src -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

    <!-- Javscript functions -->
    <script>
    function getSummonerId() {
        var summonerId;
        var apiKey = "?api_key=174ef72a-54df-4458-ae37-fa609507cbda";
        var riotApiAddress = "https://na.api.pvp.net/";
        var form = document.getElementById("searchForm");
        var summonerName = form.elements.summonerName.value;
        //alert(summonerName);
        var summonerInfo = "/api/lol/{region}/v1.4/summoner/by-name/{summonerNames}".replace("{region}","na").replace("{summonerNames}",summonerName);
        var ritoPls = new XMLHttpRequest();
        ritoPls.open("get", riotApiAddress.concat(summonerInfo).concat(apiKey), false);
        ritoPls.send();
        if (ritoPls.status == 200) 
        {
            alert(ritoPls.responseText);
            
            JSON.parse(ritoPls.responseText, function(k, v)
                {
                    console.log(k);
                    if (k === "id")
                    {
                        summonerId = v;
                    }
                });
            //var summonerId = summonerInfoJSON.eval(summonerName).id;
            console.log(summonerId);
        }
        
    }
    </script>

</body>

</html>
